
 <!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Inconsolata:400">
    <title>Python数据处理的一些技巧 | FlamePeak</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="FlamePeak">
    

    
    <meta name="description" content="maketrans Python maketrans() 方法用于创建字符映射的转换表，对于接受两个参数的最简单的调用方式， 第一个参数是字符串，表示需要转换的字符，第二个参数也是字符串表示转换的目标。 注：两个字符串的长度必须相同，为一一对应的关系。 Python3.4已经没有string.maketrans()了，取而代之的是内建函数: bytearray.maketrans()、byte">
<meta name="keywords" content="Python">
<meta property="og:type" content="article">
<meta property="og:title" content="Python数据处理的一些技巧">
<meta property="og:url" content="http://flamepeak.com/2017/02/16/Python-str-tips-20170216/index.html">
<meta property="og:site_name" content="FlamePeak">
<meta property="og:description" content="maketrans Python maketrans() 方法用于创建字符映射的转换表，对于接受两个参数的最简单的调用方式， 第一个参数是字符串，表示需要转换的字符，第二个参数也是字符串表示转换的目标。 注：两个字符串的长度必须相同，为一一对应的关系。 Python3.4已经没有string.maketrans()了，取而代之的是内建函数: bytearray.maketrans()、byte">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2017-09-14T08:20:23.140Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python数据处理的一些技巧">
<meta name="twitter:description" content="maketrans Python maketrans() 方法用于创建字符映射的转换表，对于接受两个参数的最简单的调用方式， 第一个参数是字符串，表示需要转换的字符，第二个参数也是字符串表示转换的目标。 注：两个字符串的长度必须相同，为一一对应的关系。 Python3.4已经没有string.maketrans()了，取而代之的是内建函数: bytearray.maketrans()、byte">

    
    <link rel="alternative" href="/atom.xml" title="FlamePeak" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
  <meta name="google-site-verification" content="rYNq4pSdFJQ3Ir4VuV4A6TqVEEUP8o-rrwmST28FhQY">
  <meta name="baidu-site-verification" content="AL6EYSh1WZ">
</head>
</html>
  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="FlamePeak">FlamePeak</a></h1>
				<h2 class="blog-motto">We know something, but we do not know more.</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/notes">Notes</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:flamepeak.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/02/16/Python-str-tips-20170216/" title="Python数据处理的一些技巧" itemprop="url">Python数据处理的一些技巧</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="FlamePeak" target="_blank" itemprop="author">FlamePeak</a>
		
  <p class="article-time">
    <time datetime="2017-02-16T06:57:05.000Z" itemprop="datePublished"> Published 2017-02-16</time>
    
  </p>
</header>
	<div class="article-content">
		
		<h3 id="maketrans">maketrans</h3>
<p>Python maketrans() 方法用于创建字符映射的转换表，对于接受两个参数的最简单的调用方式， 第一个参数是字符串，表示需要转换的字符，第二个参数也是字符串表示转换的目标。 注：两个字符串的长度必须相同，为一一对应的关系。</p>
<p>Python3.4已经没有string.maketrans()了，取而代之的是内建函数: <code>bytearray.maketrans()</code>、<code>bytes.maketrans()</code>、<code>str.maketrans()</code> <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">intab = <span class="string">"abcd"</span>  </span><br><span class="line">outtab = <span class="string">"1234"</span>  </span><br><span class="line">str_trantab = str.maketrans(intab,outtab)  </span><br><span class="line"></span><br><span class="line">test_str = <span class="string">"csdn blog: http://blog.csdn.net/wirelessqa"</span>  </span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (test_str.translate(str_trantab))</span><br></pre></td></tr></table></figure></p>
<h3 id="re.sub-正则替换">re.sub() 正则替换</h3>
<p>对于输入的一个字符串，利用正则表达式（的强大的字符串处理功能），去实现（相对复杂的）字符串替换处理，然后返回被替换后的字符串</p>
<p>Python的正则替换功能强大，用法相对复杂，这里列举一下。 <code>re.sub(pattern, repl, string, count=0, flags=0)</code> &gt; Return the string obtained by replacing the leftmost non-overlapping occurrences of pattern in string by the replacement <code>repl</code>. If the pattern isn’t found, <code>string</code> is returned unchanged. <code>repl</code> can be a string or a function; if it is a string, any backslash escapes in it are processed. That is, <code>\n</code> is converted to a single newline character, <code>\r</code> is converted to a carriage return, and so forth. Unknown escapes such as <code>\&amp;</code> are left alone. Backreferences, such as <code>\6</code>, are replaced with the substring matched by group 6 in the pattern.</p>
<p>re.sub共有五个参数。 其中三个必选参数：<code>pattern</code>, <code>repl</code>, <code>string</code> 两个可选参数：<code>count</code>, <code>flags</code></p>
<p><code>re.sub</code>是个正则表达式方面的函数，用来实现通过正则表达式，实现比普通字符串的<code>replace</code>更加强大的替换功能；</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">inputStr = <span class="string">"hello 111 world 111"</span></span><br></pre></td></tr></table></figure>
<p>可以通过 <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">replacedStr = inputStr.replace(<span class="string">"111"</span>, <span class="string">"222"</span>)</span><br></pre></td></tr></table></figure></p>
<p>换成 <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">"hello 222 world 222"</span></span><br></pre></td></tr></table></figure></p>
<p>但是，如果输入字符串： <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">inputStr = <span class="string">"hello 123 world 456"</span></span><br></pre></td></tr></table></figure></p>
<p>想要把123和456都替换为同样的数，通过replace就比较复杂了，然而通过正则表达式，就可以简单的实现： <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">replacedStr = re.sub(<span class="string">'\d+'</span>, <span class="string">'222'</span>, inputStr)</span><br></pre></td></tr></table></figure></p>
<p><strong>参数：pattern</strong> 表示正则中的模式字符串 需要知道的是： 反斜杠加数字（<code>\N</code>），则对应着匹配的组（matched group） 比如<code>\6</code>，表示匹配前面pattern中的第6个group</p>
<p>比如要处理： <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hello flame, nihao flame</span><br></pre></td></tr></table></figure></p>
<p>要求把flame替换为同样的字符串peak，可以这样实现 <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">inputStr = <span class="string">"hello flame, nihao flame"</span></span><br><span class="line">replacedStr = re.sub(<span class="string">r"hello (\w+), nihao \1"</span>, <span class="string">"peak"</span>, inputStr) <span class="comment">#注意不加r， 会出错，必须加r使其成为pattern</span></span><br><span class="line"><span class="keyword">print</span> (replacedStr)<span class="comment">#输出： 'peak'</span></span><br></pre></td></tr></table></figure></p>
<p><strong>参数：repl</strong> 列个网站： <a href="http://pythex.org/" target="_blank" rel="noopener">pythex</a>:可以在线调试正则文本 <a href="https://regex101.com/" target="_blank" rel="noopener">Regex101</a></p>
<p>即replacement， 被替换的字符 <code>repl</code>可以是字符串，也可以是函数。</p>
<p>如果repl是字符串的话，其中的任何反斜杠转义字符，都会被处理的。即： + <code>\n</code>：会被处理为对应的换行符； + <code>\r</code>：会被处理为回车符； + 其他不能识别的转移字符，则只是被识别为普通的字符： + 比如<code>\j</code>，会被处理为j这个字母本身； + 反斜杠加g以及中括号内一个名字，即：<code>\g&lt;name&gt;</code>，对应着命了名的组，named group</p>
<p>如果想要把<code>hello flame, nihao flame</code>中的flame提取出来： <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>inputStr = <span class="string">"hello flame, nihao flame"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.sub(<span class="string">r"hello (\w+), nihao \1"</span>, <span class="string">"\g&lt;1&gt;"</span>, inputStr)</span><br><span class="line"><span class="string">'flame'</span></span><br></pre></td></tr></table></figure></p>
<p>对应的带命名的组（named group）的版本是： <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>inputStr = <span class="string">"hello flame, nihao flame"</span>;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>replacedStr = re.sub(<span class="string">r"hello (?P&lt;name&gt;\w+), nihao (?P=name)"</span>, <span class="string">"\g&lt;name&gt;"</span>, inputStr);</span><br><span class="line"><span class="string">'flame'</span></span><br></pre></td></tr></table></figure></p>
<p>看一个实际的例子 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">新闻:&lt;ahref=\&quot;http://xueqiu.com/S/SH600633\&quot;target=\&quot;_blank\&quot;&gt;$浙报传媒(SH600633)$&lt;/a&gt;下属全资子公司上海分众软件技术有限公司近日获得</span><br></pre></td></tr></table></figure></p>
<p>这是一段文字，我们需要将中间的html链接去掉，但是需要留下其中的公司名称与代码，达到如下目的： <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">新闻:浙报传媒(SH600633)下属全资子公司上海分众软件技术有限公司近日获得</span><br></pre></td></tr></table></figure></p>
<p>这里就可以用re.sub()以及name group来实现： <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>inputStr = <span class="string">'新闻:&lt;ahref=\"http://xueqiu.com/S/SH600633\"target=\"_blank\"&gt;$浙报传媒(SH600633)$&lt;/a&gt;下属全资子公司上海分众软件技术有限公司近日获得'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.sub(<span class="string">r"(&lt;ahref=.+&gt;\$)(.*)(\$&lt;/a&gt;)"</span>, <span class="string">"\g&lt;2&gt;"</span>,inputStr)</span><br><span class="line"><span class="string">'新闻:浙报传媒(SH600633)下属全资子公司上海分众软件技术有限公司近日获得'</span></span><br></pre></td></tr></table></figure></p>
<p>就是数括号的个数啦！</p>
<p><strong>参数：string</strong> 要被处理的字符串</p>
<h3 id="python-判断变量类型时为什么不推荐使用type方法">Python 判断变量类型时，为什么不推荐使用type()方法</h3>
<p><a href="https://segmentfault.com/q/1010000000127305" target="_blank" rel="noopener">为什么不推荐使用type()方法</a></p>
<p>实际上还有一种方法是用<code>isinstance</code> 比如： <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">111</span></span><br><span class="line">isinstance(a, int)</span><br><span class="line"><span class="keyword">True</span></span><br></pre></td></tr></table></figure></p>
<p><code>isinstance</code> 和 <code>type</code> 的区别在于：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span><span class="params">(A)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">isinstance(A(), A)  <span class="comment"># returns True</span></span><br><span class="line">type(A()) == A      <span class="comment"># returns True</span></span><br><span class="line">isinstance(B(), A)    <span class="comment"># returns True</span></span><br><span class="line">type(B()) == A        <span class="comment"># returns False</span></span><br></pre></td></tr></table></figure>
<p>区别就是 对于subclass之类的 type就不行事了</p>
<h3 id="testing-if-a-variable-is-defined">Testing if a Variable Is Defined</h3>
<p>在抓取数据的时遇到一个问题，有些时候因为未知的原因，数据未获取成功，接下来的代码会提示<code>variable used before defined</code>类似错误。 解决方案如下：</p>
<p>In Python, all variables are expected to be defined before use. The <code>None</code> object is a value you often assign to signify that you have no real value for a variable, as in: <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  x</span><br><span class="line"><span class="keyword">except</span> NameError:</span><br><span class="line">  x = <span class="keyword">None</span></span><br></pre></td></tr></table></figure></p>
<p>Then it’s easy to test whether a variable is bound to <code>None</code>: <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> x <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">    some_fallback_operation(  )</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    some_operation(x)</span><br></pre></td></tr></table></figure></p>
<p>Python doesn’t have a specific function to test whether a variable is defined, since all variables are expected to have been defined before use, even if initially assigned the <code>None</code> object. Attempting to access a variable that hasn’t previously been defined raises a <code>NameError</code> exception (which you can handle with a <code>try/except</code> statement, as you can for any other Python exception). <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    x</span><br><span class="line">    some_operation(x)</span><br><span class="line"><span class="keyword">except</span> NameError:</span><br><span class="line">    some_fallback_operation(  )</span><br></pre></td></tr></table></figure></p>
<h3 id="section"></h3>
<p>使用 <code>dir()</code>，<code>vars()</code> 或者 <code>inspect</code> 模块来获取你对感兴趣的内容。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line">orig_image = Image.open(<span class="string">'1.gif'</span>)</span><br><span class="line"><span class="keyword">print</span> orig_image.info</span><br><span class="line"><span class="keyword">print</span> dir(orig_image)</span><br><span class="line"><span class="keyword">print</span> vars(orig_image)</span><br><span class="line"><span class="keyword">print</span> orig_image.size</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">'background'</span>: 53, <span class="string">'extension'</span>: (<span class="string">'NETSCAPE2.0'</span>, 411L), <span class="string">'version'</span>: <span class="string">'GIF89a'</span>, <span class="string">'transparency'</span>: 53, <span class="string">'duration'</span>: 100, <span class="string">'loop'</span>: 0&#125;</span><br><span class="line"></span><br><span class="line">[<span class="string">'_GifImageFile__fp'</span>, <span class="string">'_GifImageFile__frame'</span>, <span class="string">'_GifImageFile__offset'</span>, <span class="string">'_GifImageFile__rewind'</span>, <span class="string">'_Image__transformer'</span>, <span class="string">'__array_interface__'</span>, <span class="string">'__class__'</span>, <span class="string">'__copy__'</span>, <span class="string">'__delattr__'</span>, <span class="string">'__dict__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__enter__'</span>, <span class="string">'__eq__'</span>, <span class="string">'__exit__'</span>, <span class="string">'__format__'</span>, <span class="string">'__getattribute__'</span>, <span class="string">'__getstate__'</span>, <span class="string">'__hash__'</span>, <span class="string">'__init__'</span>, <span class="string">'__module__'</span>, <span class="string">'__ne__'</span>, <span class="string">'__new__'</span>, <span class="string">'__reduce__'</span>, <span class="string">'__reduce_ex__'</span>, <span class="string">'__repr__'</span>, <span class="string">'__setattr__'</span>, <span class="string">'__setstate__'</span>, <span class="string">'__sizeof__'</span>, <span class="string">'__str__'</span>, <span class="string">'__subclasshook__'</span>, <span class="string">'__weakref__'</span>, <span class="string">'_close_exclusive_fp_after_loading'</span>, <span class="string">'_copy'</span>, <span class="string">'_crop'</span>, <span class="string">'_dump'</span>, <span class="string">'_exclusive_fp'</span>, <span class="string">'_expand'</span>, <span class="string">'_is_animated'</span>, <span class="string">'_n_frames'</span>, <span class="string">'_new'</span>, <span class="string">'_open'</span>, <span class="string">'_prev_im'</span>, <span class="string">'_repr_png_'</span>, <span class="string">'_seek'</span>, <span class="string">'alpha_composite'</span>, <span class="string">'category'</span>, <span class="string">'close'</span>, <span class="string">'convert'</span>, <span class="string">'copy'</span>, <span class="string">'crop'</span>, <span class="string">'data'</span>, <span class="string">'decoderconfig'</span>, <span class="string">'decodermaxblock'</span>, <span class="string">'disposal_method'</span>, <span class="string">'dispose'</span>, <span class="string">'dispose_extent'</span>, <span class="string">'draft'</span>, <span class="string">'effect_spread'</span>, <span class="string">'filename'</span>, <span class="string">'filter'</span>, <span class="string">'format'</span>, <span class="string">'format_description'</span>, <span class="string">'fp'</span>, <span class="string">'frombytes'</span>, <span class="string">'fromstring'</span>, <span class="string">'getbands'</span>, <span class="string">'getbbox'</span>, <span class="string">'getcolors'</span>, <span class="string">'getdata'</span>, <span class="string">'getextrema'</span>, <span class="string">'getim'</span>, <span class="string">'getpalette'</span>, <span class="string">'getpixel'</span>, <span class="string">'getprojection'</span>, <span class="string">'global_palette'</span>, <span class="string">'height'</span>, <span class="string">'histogram'</span>, <span class="string">'im'</span>, <span class="string">'info'</span>, <span class="string">'is_animated'</span>, <span class="string">'load'</span>, <span class="string">'load_end'</span>, <span class="string">'load_prepare'</span>, <span class="string">'mode'</span>, <span class="string">'n_frames'</span>, <span class="string">'offset'</span>, <span class="string">'palette'</span>, <span class="string">'paste'</span>, <span class="string">'point'</span>, <span class="string">'putalpha'</span>, <span class="string">'putdata'</span>, <span class="string">'putpalette'</span>, <span class="string">'putpixel'</span>, <span class="string">'pyaccess'</span>, <span class="string">'quantize'</span>, <span class="string">'readonly'</span>, <span class="string">'remap_palette'</span>, <span class="string">'resize'</span>, <span class="string">'rotate'</span>, <span class="string">'save'</span>, <span class="string">'seek'</span>, <span class="string">'show'</span>, <span class="string">'size'</span>, <span class="string">'split'</span>, <span class="string">'tell'</span>, <span class="string">'thumbnail'</span>, <span class="string">'tile'</span>, <span class="string">'tobitmap'</span>, <span class="string">'tobytes'</span>, <span class="string">'toqimage'</span>, <span class="string">'toqpixmap'</span>, <span class="string">'tostring'</span>, <span class="string">'transform'</span>, <span class="string">'transpose'</span>, <span class="string">'verify'</span>, <span class="string">'width'</span>]</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">'_GifImageFile__rewind'</span>: 397L, <span class="string">'_GifImageFile__fp'</span>: &lt;open file <span class="string">'1.gif'</span>, mode <span class="string">'rb'</span> at 0x0000000002ABD540&gt;, <span class="string">'dispose_extent'</span>: (0, 0, 619, 347), <span class="string">'_GifImageFile__frame'</span>: 0, <span class="string">'im'</span>: None, <span class="string">'decodermaxblock'</span>: 65536, <span class="string">'_exclusive_fp'</span>: True, <span class="string">'size'</span>: (619, 347), <span class="string">'category'</span>: 0, <span class="string">'palette'</span>: &lt;PIL.ImagePalette.ImagePalette object at 0x0000000002D94080&gt;, <span class="string">'_is_animated'</span>: None, <span class="string">'dispose'</span>: None, <span class="string">'filename'</span>: <span class="string">'1.gif'</span>, <span class="string">'readonly'</span>: 1, <span class="string">'tile'</span>: [(<span class="string">'gif'</span>, (0, 0, 619, 347), 435L, (7, False))], <span class="string">'fp'</span>: &lt;open file <span class="string">'1.gif'</span>, mode <span class="string">'rb'</span> at 0x0000000002ABD540&gt;, <span class="string">'disposal_method'</span>: 1, <span class="string">'pyaccess'</span>: None, <span class="string">'decoderconfig'</span>: (), <span class="string">'_n_frames'</span>: None, <span class="string">'info'</span>: &#123;<span class="string">'background'</span>: 53, <span class="string">'extension'</span>: (<span class="string">'NETSCAPE2.0'</span>, 411L), <span class="string">'version'</span>: <span class="string">'GIF89a'</span>, <span class="string">'transparency'</span>: 53, <span class="string">'duration'</span>: 100, <span class="string">'loop'</span>: 0&#125;, <span class="string">'_prev_im'</span>: None, <span class="string">'_GifImageFile__offset'</span>: 435L, <span class="string">'global_palette'</span>: &lt;PIL.ImagePalette.ImagePalette object at 0x0000000002D940B8&gt;, <span class="string">'mode'</span>: <span class="string">'P'</span>&#125;</span><br><span class="line"></span><br><span class="line">(619, 347)</span><br></pre></td></tr></table></figure>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Python/">Python</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Python/">Python</a>
  </div>

</div>


	<div class="article-share" id="share">
	
	  <div data-url="http://flamepeak.com/2017/02/16/Python-str-tips-20170216/" data-title="Python数据处理的一些技巧 | FlamePeak" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2017/02/19/Django-tips-20170219/" title="Django tips">
  <strong>上一篇：</strong><br/>
  <span>
  Django tips</span>
</a>
</div>


<div class="next">
<a href="/2017/02/16/Python-urllib-decompress-gzip20170216/"  title="Python urllib decompress gzip">
 <strong>下一篇：</strong><br/> 
 <span>Python urllib decompress gzip
</span>
</a>
</div>

</nav>

	

</div>  

      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
 
 <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#maketrans"><span class="toc-number">1.</span> <span class="toc-text">maketrans</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re.sub-正则替换"><span class="toc-number">2.</span> <span class="toc-text">re.sub() 正则替换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#python-判断变量类型时为什么不推荐使用type方法"><span class="toc-number">3.</span> <span class="toc-text">Python 判断变量类型时，为什么不推荐使用type()方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#testing-if-a-variable-is-defined"><span class="toc-number">4.</span> <span class="toc-text">Testing if a Variable Is Defined</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section"><span class="toc-number">5.</span> <span class="toc-text"></span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
		  
			<li><a href="/categories/Android/" title="Android">Android<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Cryptography/" title="Cryptography">Cryptography<sup>16</sup></a></li>
		  
		
		  
			<li><a href="/categories/Hardware/" title="Hardware">Hardware<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Life/" title="Life">Life<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>45</sup></a></li>
		  
		
		  
			<li><a href="/categories/Network-Security/" title="Network Security">Network Security<sup>19</sup></a></li>
		  
		
		  
			<li><a href="/categories/Python/" title="Python">Python<sup>42</sup></a></li>
		  
		
		  
			<li><a href="/categories/Tools/" title="Tools">Tools<sup>22</sup></a></li>
		  
		
		  
			<li><a href="/categories/Web前端/" title="Web前端">Web前端<sup>20</sup></a></li>
		  
		
		  
			<li><a href="/categories/Web后端/" title="Web后端">Web后端<sup>14</sup></a></li>
		  
		
		  
			<li><a href="/categories/人工智能/" title="人工智能">人工智能<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/百家杂谈/" title="百家杂谈">百家杂谈<sup>21</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Python/" title="Python">Python<sup>43</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>35</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C">C<sup>21</sup></a></li>
			
		
			
				<li><a href="/tags/笔记/" title="笔记">笔记<sup>18</sup></a></li>
			
		
			
				<li><a href="/tags/cryptography/" title="cryptography">cryptography<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/Life/" title="Life">Life<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/JavaScript/" title="JavaScript">JavaScript<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/MongoDB/" title="MongoDB">MongoDB<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/Mysql/" title="Mysql">Mysql<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Network-Security/" title="Network Security">Network Security<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Chrome/" title="Chrome">Chrome<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Docker/" title="Docker">Docker<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Learning/" title="Learning">Learning<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Scrapy/" title="Scrapy">Scrapy<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Tools/" title="Tools">Tools<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/VPN/" title="VPN">VPN<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Kali/" title="Kali">Kali<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Windows/" title="Windows">Windows<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Tips/" title="Tips">Tips<sup>3</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://laod.cn/hosts/2017-google-hosts.html" target="_blank" title="Google Hosts">Google Hosts</a>
            
          </li>
        
          <li>
            
            	<a href="http://overapi.com" target="_blank" title="OverAPI">OverAPI</a>
            
          </li>
        
          <li>
            
            	<a href="https://devdocs.io" target="_blank" title="DevDocs">DevDocs</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>

    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 善良   善学   勇敢   坚毅 <br/>
			努力   克制   谦虚   执着</p>
	</section>
	 
	<div id="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">Hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2021 
		
		<a href="/about" target="_blank" title="FlamePeak">FlamePeak</a>
		
		





		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
        getSize();
        if (myWidth >= 1024) {
          $('#toc.toc-aside').css('display', 'block');
          c.click();
        }
  
  $(window).resize(function(){
    getSize();
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
      
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});
</script>











<!-- Analytics Begin -->
<!--%- partial('analytics') %-->
<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>

