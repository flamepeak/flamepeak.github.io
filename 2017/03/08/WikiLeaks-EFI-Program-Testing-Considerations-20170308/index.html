
 <!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Inconsolata:400">
    <title>EFI 程序测试注意事项 | FlamePeak</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="FlamePeak">
    

    
    <meta name="description" content="本文来自：WikiLeaks CIA:EFI Program Testing Considerations EFI Program Testing Considerations This page is not designed to teach how to exhaustively test EFI executables, but will serve as a point of ref">
<meta name="keywords" content="EFI,WikiLeaks">
<meta property="og:type" content="article">
<meta property="og:title" content="EFI 程序测试注意事项">
<meta property="og:url" content="http://flamepeak.com/2017/03/08/WikiLeaks-EFI-Program-Testing-Considerations-20170308/index.html">
<meta property="og:site_name" content="FlamePeak">
<meta property="og:description" content="本文来自：WikiLeaks CIA:EFI Program Testing Considerations EFI Program Testing Considerations This page is not designed to teach how to exhaustively test EFI executables, but will serve as a point of ref">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2017-03-08T08:27:45.775Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="EFI 程序测试注意事项">
<meta name="twitter:description" content="本文来自：WikiLeaks CIA:EFI Program Testing Considerations EFI Program Testing Considerations This page is not designed to teach how to exhaustively test EFI executables, but will serve as a point of ref">

    
    <link rel="alternative" href="/atom.xml" title="FlamePeak" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
  <meta name="google-site-verification" content="rYNq4pSdFJQ3Ir4VuV4A6TqVEEUP8o-rrwmST28FhQY">
  <meta name="baidu-site-verification" content="AL6EYSh1WZ">
</head>
</html>
  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="FlamePeak">FlamePeak</a></h1>
				<h2 class="blog-motto">We know something, but we do not know more.</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/notes">Notes</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:flamepeak.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/03/08/WikiLeaks-EFI-Program-Testing-Considerations-20170308/" title="EFI 程序测试注意事项" itemprop="url">EFI 程序测试注意事项</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="FlamePeak" target="_blank" itemprop="author">FlamePeak</a>
		
  <p class="article-time">
    <time datetime="2017-03-08T02:23:32.000Z" itemprop="datePublished"> Published 2017-03-08</time>
    
  </p>
</header>
	<div class="article-content">
		
		<p>本文来自：<a href="https://wikileaks.org/ciav7p1/cms/page_29851664.html" target="_blank" rel="noopener">WikiLeaks CIA:EFI Program Testing Considerations</a></p>
<p><strong>EFI Program Testing Considerations</strong></p>
<p>This page is not designed to teach how to exhaustively test EFI executables, but will serve as a point of reference for different issues raised in EFI that are not typically common elsewhere. 本文并不是教给你如何彻底的测试EFI可执行文件，但是它是一个由EFI引起的在其它地方并不常见的各种问题的参考。</p>
<h3 id="launching-the-efi-shell-启动efi-shell">Launching the EFI Shell 启动EFI Shell</h3>
<p>On a Mac, the easiest way to run an EFI executable is to boot into the EFI shell and run it from there. 在一台Mac上，运行EFI可执行文件最简单的方法是：启动进入EFI shell并从shell中运行。</p>
<p>Because Macs still use EFI 1.10 (versus UEFI 2.5), you will need to run the EFI shell version 1. You can grab that binary here: UEFIShell1.efi 因为Macs仍然使用EFI 1.10（对应UEFI 2.5），你需要运行EFI shell的版本1. 你可以获取这个二进制文件：<a href="https://wikileaks.org/ciav7p1/cms/files/UEFIShell1.efi" target="_blank" rel="noopener">UEFIShell1.efi</a></p>
<p>In order to run the EFI shell, you need to either put in onto your EFI partition or onto a bootable USB drive. 为了运行EFI shell， 你需要把它放在EFI分区，或者放在一个可启动的USB驱动器上。</p>
<p>Whichever you choose, the file must be placed in /EFI/BOOT on the drive, and must be named BOOTX64.efi 无论你采用哪种方式，这个文件必须放在<code>/EFI/BOOT</code>内，并且必须命名为<code>BOOTX64.efi</code>.</p>
<p>Once it is there (either on your USB or the EFI system partition), you can reboot your machine, hold down the option key on boot, and select the "EFI Boot" drive. 把它放好之后，你可以重新启动你的机器，在启动时按住选项键，并选择<code>EFI Boot</code>.</p>
<h3 id="testing-considerations-测试注意事项">Testing Considerations 测试注意事项</h3>
<h4 id="running-your-program-运行你的程序">Running Your Program 运行你的程序</h4>
<p>It is fairly simple to run an EFI program from the EFI shell. 从EFI shell运行EFI程序是非常简单的。</p>
<p>First, you need to find the file system that your executable is on. In order to do this, you need to find which "fs#" it is on. For example, the EFI system partition is typically fs0, and the OS X Recovery partition is typically fs1. 首先，你需要找到你的可执行文件在哪个文件系统上。为了做到这一点，你需要找到它在那个<code>fs#</code>上。例如，EFI系统分区通常是<code>fs0</code>，OS X恢复分区通常是<code>fs1</code>。</p>
<p>You can type the command "fs0:" and the shell will move you to fs0. From there, this shell is similar to a DOS shell: you can use dir to list the files in your directory, cd to move around, etc. 你可以输入命令<code>fs0:</code>，然后shell将会使你的工作路径到<code>fs0</code>。这个shell有点类似DOS shell，你可以使用<code>dir</code>查看目录中的文件，<code>cd</code>可以更改工作目录等等。</p>
<p>If you need more help in the EFI shell, type "help -b". The -b flag makes the help output show one screen at a time, similar to more in a bash shell. 如果你想在EFI shell中获取帮助信息，输入命令<code>help -v</code>。<code>-b</code>标志使帮助的输出一次显示一屏，有点类似bash shell中的<code>more</code>。</p>
<p>From there, find your executable. If you created HelloWorld.efi as an application, you can run it from the EFI shell simply by typing HelloWorld.efi from its directory. 找到你的可执行文件，如果你创建了一个<code>HelloWorld.efi</code>程序，你只需在shell中输入<code>HelooWorld.efi</code>就可以运行它（注意目录）。</p>
<p>If your executable is a driver, you can run it using the load command. For the HelloWorld example, you would type "load HelloWorld.efi" from its directory. 如果你的可行性文件是一个驱动(driver)，你可以使用<code>load</code>命令运行它。对于HelloWord的例子，你需要在它的目录中输入<code>load HelloWorld.efi</code>。</p>
<p>You can also use absolute or relative paths when loading or running your executables. 在load或者运行可执行文件时，你可以使用绝对路径或者相对路径。</p>
<h3 id="pointers-指针">Pointers 指针</h3>
<p>Pointers are irritating enough: you think you're pointing to the right part of your structure, and instead you get a seg fault, or you dereference a NULL pointer, or something else nasty. 指针非常令人不爽：你认为它指向了代码结构中的正确部分，但是你得到了一个段错误(seg fault)，或者间接引用了一个NULL指针，或者其它令人讨厌的错误。</p>
<p>Normally, this will cause a crash, and you may get some sort of error message (or a core dump.) However, in EFI, if you commit this type of memory-related error, the program will simply hang. 正常情况下，这将会造成程序崩溃，同时你可能会得到一些错误信息。然而，在EFI中，如果你遇到这种内存相关的错误，程序将会挂起。</p>
<p>As of right now, I have not found a way to kill a program that has hung from within EFI. This means that if your executable hangs, you will need to power cycle your machine. (Please let me know if you find a work-around to this; that would be great.) 到目前为止，我还没有找到一种在EFI中杀死挂起程序的方法。这意味着，如果你的可执行文件挂起了，你将不得不重启机器。（如果你找到一种方法，请告诉我，那就太棒了）</p>
<h3 id="stripped-binaries">Stripped Binaries</h3>
<p>By default, the EDK includes a lot of debug information when it compiles its executables, as noted in the EDK2 Compiler Information and CI Concerns page. 默认情况下，当编译可行性文件时EDK（Embedded Development Kit）包含很多调试信息，正如在<a href="https://wikileaks.org/ciav7p1/cms/page_27721733.html" target="_blank" rel="noopener">EDK2 Compiler Information and CI Concerns</a>中提到的那样。</p>
<p>If you are trying to minimize the amount of debug strings in your executables like I did, you may be tempted to add the --strip-all flag to the set of flags to pass to objcopy. Don't do that. 如果你像我一样试图最小化可执行文件中调试字符串的数量，你可能想给传递给objcopy的标记集合增加<code>--strip-all</code>标记。不要这样做！</p>
<p>Although I have not had the time to pinpoint what exactly is being stripped, if you use --strip-all, the loader (for the application or for the driver) will not be able to find your program's entry point and your program will hang. No errors in compilation, nothing in the EFI shell – it will simply hang. 尽管我没有时间精确的指出到底是什么东西被删掉，如果你使用<code>--stip-all</code>，loader将不能找到程序的入口点，你的程序会挂起。编译时不会有错误提示，EFI shell也没有，它只是挂起！</p>
<h2 id="补充">补充</h2>
<p>其它的CIA的EFI资料： <a href="https://wikileaks.org/ciav7p1/cms/page_27262984.html" target="_blank" rel="noopener">搭建EFI的Linux开发环境</a>:Setting Up a Linux Build Environment for EFI：This page will walk you through building a build environment for a Linux machine. Specifically, this tutorial is focused on Ubuntu/Linux Mint.</p>
<p><a href="https://wikileaks.org/ciav7p1/cms/page_36896783.html" target="_blank" rel="noopener">ExitBootServices Hooking</a></p>
<p><a href="https://wikileaks.org/ciav7p1/cms/page_26968082.html" target="_blank" rel="noopener">Active EFI/UEFI Projects</a>:Below are links to project pages for projects that are using/going against UEFI/EFI. + <a href="https://wikileaks.org/ciav7p1/cms/page_3375125.html" target="_blank" rel="noopener">DerStarke</a> :Apple EFI implant via flash unlock + <a href="https://wikileaks.org/ciav7p1/cms/page_21561431.html" target="_blank" rel="noopener">QuarkMatter</a> :Apple EFI implant via EFI system partition</p>
<p><a href="https://wikileaks.org/ciav7p1/cms/page_26968084.html" target="_blank" rel="noopener">EFI Basics: NVRAM Variables</a>:NVRAM 非易失性随机访问存储器 (Non-Volatile Random Access Memory)，是指断电后仍能保持数据的一种RAM。</p>
<p><a href="https://wikileaks.org/ciav7p1/cms/page_27721733.html" target="_blank" rel="noopener">EDK2 Compiler Information and CI Concerns</a>: This page will discuss locations of compiler flags within the TianoCore EDK2 (UDK 2014) build environment and CI concerns that need to be taken into account when building EFI binaries.This page documents everything noteworthy that we have found so far.</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Network-Security/">Network Security</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/EFI/">EFI</a><a href="/tags/WikiLeaks/">WikiLeaks</a>
  </div>

</div>


	<div class="article-share" id="share">
	
	  <div data-url="http://flamepeak.com/2017/03/08/WikiLeaks-EFI-Program-Testing-Considerations-20170308/" data-title="EFI 程序测试注意事项 | FlamePeak" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2017/03/08/WikiLeaks-ExitBootServices-Hooking-20170308/" title="ExitBootServices Hooking">
  <strong>上一篇：</strong><br/>
  <span>
  ExitBootServices Hooking</span>
</a>
</div>


<div class="next">
<a href="/2017/03/06/Translate-BitErrant-attack20170306/"  title="翻译：利用SHA1碰撞的BitErrant攻击">
 <strong>下一篇：</strong><br/> 
 <span>翻译：利用SHA1碰撞的BitErrant攻击
</span>
</a>
</div>

</nav>

	

</div>  

      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
 
 <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#launching-the-efi-shell-启动efi-shell"><span class="toc-number">1.</span> <span class="toc-text">Launching the EFI Shell 启动EFI Shell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#testing-considerations-测试注意事项"><span class="toc-number">2.</span> <span class="toc-text">Testing Considerations 测试注意事项</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#running-your-program-运行你的程序"><span class="toc-number">2.1.</span> <span class="toc-text">Running Your Program 运行你的程序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pointers-指针"><span class="toc-number">3.</span> <span class="toc-text">Pointers 指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#stripped-binaries"><span class="toc-number">4.</span> <span class="toc-text">Stripped Binaries</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#补充"><span class="toc-number"></span> <span class="toc-text">补充</span></a>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
		  
			<li><a href="/categories/Android/" title="Android">Android<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Cryptography/" title="Cryptography">Cryptography<sup>16</sup></a></li>
		  
		
		  
			<li><a href="/categories/Hardware/" title="Hardware">Hardware<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Life/" title="Life">Life<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>43</sup></a></li>
		  
		
		  
			<li><a href="/categories/Network-Security/" title="Network Security">Network Security<sup>19</sup></a></li>
		  
		
		  
			<li><a href="/categories/Python/" title="Python">Python<sup>42</sup></a></li>
		  
		
		  
			<li><a href="/categories/Tools/" title="Tools">Tools<sup>19</sup></a></li>
		  
		
		  
			<li><a href="/categories/Web前端/" title="Web前端">Web前端<sup>20</sup></a></li>
		  
		
		  
			<li><a href="/categories/Web后端/" title="Web后端">Web后端<sup>14</sup></a></li>
		  
		
		  
			<li><a href="/categories/人工智能/" title="人工智能">人工智能<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/百家杂谈/" title="百家杂谈">百家杂谈<sup>21</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Python/" title="Python">Python<sup>43</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>33</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C">C<sup>21</sup></a></li>
			
		
			
				<li><a href="/tags/笔记/" title="笔记">笔记<sup>18</sup></a></li>
			
		
			
				<li><a href="/tags/cryptography/" title="cryptography">cryptography<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/JavaScript/" title="JavaScript">JavaScript<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Life/" title="Life">Life<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/MongoDB/" title="MongoDB">MongoDB<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/Network-Security/" title="Network Security">Network Security<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Mysql/" title="Mysql">Mysql<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Kali/" title="Kali">Kali<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Docker/" title="Docker">Docker<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Learning/" title="Learning">Learning<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Scrapy/" title="Scrapy">Scrapy<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Tools/" title="Tools">Tools<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/VPN/" title="VPN">VPN<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/读书/" title="读书">读书<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Tips/" title="Tips">Tips<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/人生/" title="人生">人生<sup>3</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://laod.cn/hosts/2017-google-hosts.html" target="_blank" title="Google Hosts">Google Hosts</a>
            
          </li>
        
          <li>
            
            	<a href="http://overapi.com" target="_blank" title="OverAPI">OverAPI</a>
            
          </li>
        
          <li>
            
            	<a href="https://devdocs.io" target="_blank" title="DevDocs">DevDocs</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>

    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 善良   善学   勇敢   坚毅 <br/>
			努力   克制   谦虚   执着</p>
	</section>
	 
	<div id="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">Hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2021 
		
		<a href="/about" target="_blank" title="FlamePeak">FlamePeak</a>
		
		





		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
        getSize();
        if (myWidth >= 1024) {
          $('#toc.toc-aside').css('display', 'block');
          c.click();
        }
  
  $(window).resize(function(){
    getSize();
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
      
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});
</script>











<!-- Analytics Begin -->
<!--%- partial('analytics') %-->
<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>

