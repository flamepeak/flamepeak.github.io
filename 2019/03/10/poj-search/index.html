
 <!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Inconsolata:400">
    <title>poj search | FlamePeak</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="FlamePeak">
    

    
    <meta name="description" content="4081:树的转换查看 提交 统计 提示 提问总时间限制: 5000ms 单个测试点时间限制: 1000ms 内存限制: 65536kB描述我们都知道用“左儿子右兄弟”的方法可以将一棵一般的树转换为二叉树，如：    0                             0  / | \                          / 1  2  3       ===&amp;gt;">
<meta name="keywords" content="C">
<meta property="og:type" content="article">
<meta property="og:title" content="poj search">
<meta property="og:url" content="http://flamepeak.com/2019/03/10/poj-search/index.html">
<meta property="og:site_name" content="FlamePeak">
<meta property="og:description" content="4081:树的转换查看 提交 统计 提示 提问总时间限制: 5000ms 单个测试点时间限制: 1000ms 内存限制: 65536kB描述我们都知道用“左儿子右兄弟”的方法可以将一棵一般的树转换为二叉树，如：    0                             0  / | \                          / 1  2  3       ===&amp;gt;">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-03-18T06:17:33.808Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="poj search">
<meta name="twitter:description" content="4081:树的转换查看 提交 统计 提示 提问总时间限制: 5000ms 单个测试点时间限制: 1000ms 内存限制: 65536kB描述我们都知道用“左儿子右兄弟”的方法可以将一棵一般的树转换为二叉树，如：    0                             0  / | \                          / 1  2  3       ===&amp;gt;">

    
    <link rel="alternative" href="/atom.xml" title="FlamePeak" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
  <meta name="google-site-verification" content="rYNq4pSdFJQ3Ir4VuV4A6TqVEEUP8o-rrwmST28FhQY">
  <meta name="baidu-site-verification" content="AL6EYSh1WZ">
</head>
</html>
  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="FlamePeak">FlamePeak</a></h1>
				<h2 class="blog-motto">We know something, but we do not know more.</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/notes">Notes</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:flamepeak.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/03/10/poj-search/" title="poj search" itemprop="url">poj search</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="FlamePeak" target="_blank" itemprop="author">FlamePeak</a>
		
  <p class="article-time">
    <time datetime="2019-03-10T14:20:05.000Z" itemprop="datePublished"> Published 2019-03-10</time>
    
  </p>
</header>
	<div class="article-content">
		
		<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4081:树的转换</span><br><span class="line">查看 提交 统计 提示 提问</span><br><span class="line">总时间限制: 5000ms 单个测试点时间限制: 1000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line">我们都知道用“左儿子右兄弟”的方法可以将一棵一般的树转换为二叉树，如：</span><br><span class="line"></span><br><span class="line">    0                             0</span><br><span class="line">  / | \                          /</span><br><span class="line"> 1  2  3       ===&gt;             1</span><br><span class="line">   / \                           \</span><br><span class="line">  4   5                           2</span><br><span class="line">                                 / \</span><br><span class="line">                                4   3</span><br><span class="line">                                 \</span><br><span class="line">                                  5</span><br><span class="line">现在请你将一些一般的树用这种方法转换为二叉树，并输出转换前和转换后树的高度。</span><br><span class="line"></span><br><span class="line">输入</span><br><span class="line">输入是一个由“u”和“d”组成的字符串，表示一棵树的深度优先搜索信息。比如，dudduduudu可以用来表示上文中的左树，因为搜索过程为：0 Down to 1 Up to 0 Down to 2 Down to 4 Up to 2 Down to 5 Up to 2 Up to 0 Down to 3 Up to 0。</span><br><span class="line">你可以认为每棵树的结点数至少为2，并且不超过10000。</span><br><span class="line">输出</span><br><span class="line">按如下格式输出转换前和转换后树的高度：</span><br><span class="line">h1 =&gt; h2</span><br><span class="line">其中，h1是转换前树的高度，h2是转换后树的高度。</span><br><span class="line">样例输入</span><br><span class="line">dudduduudu</span><br><span class="line">样例输出</span><br><span class="line">2 =&gt; 4</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100100</span>;</span><br><span class="line"><span class="keyword">char</span> s[N];</span><br><span class="line"><span class="keyword">int</span> res1, res2;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> &amp;i, <span class="keyword">int</span> dep1, <span class="keyword">int</span> dep2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    res1 = max(res1, dep1);</span><br><span class="line">    res2 = max(res2, dep2);</span><br><span class="line">    <span class="keyword">int</span> cnt  = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span> &amp;&amp; s[i])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i] == <span class="string">'d'</span>)</span><br><span class="line">            dfs(++i, dep1 + <span class="number">1</span>, dep2 + cnt), cnt++;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            i++;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(~ <span class="built_in">scanf</span>(<span class="string">" %s"</span>, s))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        res1 = res2 = <span class="number">-1</span>;</span><br><span class="line">        dfs(i, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d =&gt; %d\n"</span>, res1, res2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M=<span class="number">41000</span>;<span class="comment">//用的比较多 </span></span><br><span class="line"><span class="comment">//http://bailian.openjudge.cn/practice/4081/</span></span><br><span class="line"><span class="comment">//神奇的题，想了很久递归去构造树，结果做不出来，下面是参考的 </span></span><br><span class="line"><span class="comment">//使用dp来做，当前节点在二叉树表示中的高度=父节点高度+左兄弟数目+1</span></span><br><span class="line"><span class="keyword">int</span> h1=<span class="number">0</span>,h2=<span class="number">0</span>,len;</span><br><span class="line"><span class="keyword">int</span> f[M],dep[M],lch[M];<span class="comment">//f数组是保存的上次的值，相当于对一个个字符dp </span></span><br><span class="line"><span class="keyword">char</span> a[M];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;a;</span><br><span class="line">    len=<span class="built_in">strlen</span>(a);</span><br><span class="line">    <span class="keyword">int</span> h=<span class="number">0</span>;<span class="comment">//用于循环过程中控制高度 </span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=len;i++)&#123;</span><br><span class="line">        <span class="comment">//i其实存储的是i-1节点的信息</span></span><br><span class="line">        <span class="keyword">char</span> tmp=a[i<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">if</span>(tmp==<span class="string">'d'</span>)&#123;</span><br><span class="line">            h++;</span><br><span class="line">            h1=max(h1,h);</span><br><span class="line">            f[i]=i<span class="number">-1</span>;</span><br><span class="line">            dep[i]=dep[i<span class="number">-1</span>]+lch[i<span class="number">-1</span>]+<span class="number">1</span>;</span><br><span class="line">            lch[i<span class="number">-1</span>]++;<span class="comment">//对于i来讲，有一个左兄弟 </span></span><br><span class="line">            h2=max(h2,dep[i]); </span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(tmp==<span class="string">'u'</span>)&#123;</span><br><span class="line">            h--;</span><br><span class="line">            f[i]=f[f[i<span class="number">-1</span>]];</span><br><span class="line">            dep[i]=dep[f[i<span class="number">-1</span>]];</span><br><span class="line">            lch[i]=lch[f[i<span class="number">-1</span>]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span> (<span class="string">"%d =&gt; %d\n"</span>,h1, h2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">7834:分成互质组</span><br><span class="line">查看 提交 统计 提问</span><br><span class="line">总时间限制: 1000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line">给定n个正整数，将它们分组，使得每组中任意两个数互质。至少要分成多少个组？</span><br><span class="line"></span><br><span class="line">输入</span><br><span class="line">第一行是一个正整数n。1 &lt;= n &lt;= 10。</span><br><span class="line">第二行是n个不大于10000的正整数。</span><br><span class="line">输出</span><br><span class="line">一个正整数，即最少需要的组数。</span><br><span class="line">样例输入</span><br><span class="line">6</span><br><span class="line">14 20 33 117 143 175</span><br><span class="line">样例输出</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<p>搜索，如果能加入已有组就加入，不能加入新建组</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;  </span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </span><br><span class="line"><span class="keyword">int</span> n,ans=<span class="number">1e9</span>+<span class="number">1</span>;  </span><br><span class="line"><span class="keyword">bool</span> flag;  </span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10010</span>],b[<span class="number">10010</span>];<span class="comment">//a[]保存数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span><span class="comment">//递归法判断互质  </span></span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>)<span class="keyword">return</span> a;  </span><br><span class="line">    <span class="keyword">return</span> gcd(b,a%b);  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span><span class="comment">//搜到了第x个数，现在有y个集合</span></span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">if</span>(x==n+<span class="number">1</span>)<span class="comment">//搜索完成，取最小值，退出</span></span><br><span class="line">    &#123;  </span><br><span class="line">        ans=min(ans,y); </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=y;i++)<span class="comment">//组数</span></span><br><span class="line">    &#123;  </span><br><span class="line">        flag=<span class="literal">true</span>;  </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;x;j++)<span class="comment">//不能加‘=’，因为如果加了‘=’，一个数就可以进这重循环，即x=1时，不可能自己比自己吧。</span></span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="keyword">if</span>(b[j]==i)  </span><br><span class="line">            &#123;  </span><br><span class="line">                <span class="keyword">if</span>(gcd(a[x],a[j])!=<span class="number">1</span>)<span class="comment">//如果不为互质数</span></span><br><span class="line">                &#123;  </span><br><span class="line">                    flag=<span class="literal">false</span>;<span class="comment">//就没必要比，再继续加下去了，</span></span><br><span class="line">                    <span class="keyword">break</span>;<span class="comment">//跳出</span></span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">if</span>(flag)<span class="comment">//如果前边加的数字都为互质数，就再加数，继续判断</span></span><br><span class="line">        &#123;  </span><br><span class="line">            b[x]=i;<span class="comment">//保存组数</span></span><br><span class="line">            dfs(x+<span class="number">1</span>,y);<span class="comment">//加数字，但不加组 </span></span><br><span class="line">            b[x]=<span class="number">0</span>;<span class="comment">//回溯</span></span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    b[x]=y+<span class="number">1</span>;<span class="comment">//集合数加1  </span></span><br><span class="line">    dfs(x+<span class="number">1</span>,y+<span class="number">1</span>);<span class="comment">//进行下一次查找</span></span><br><span class="line">    b[x]=<span class="number">0</span>; <span class="comment">//回溯 </span></span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;  </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)  </span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];  </span><br><span class="line">    dfs(<span class="number">1</span>,<span class="number">1</span>);<span class="comment">//从第一个（数，组）开始  </span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;  </span></span></span><br><span class="line"><span class="keyword">int</span> n,a[<span class="number">20</span>],b[<span class="number">20</span>],c=<span class="number">1</span>;  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> <span class="comment">//递归法判断互质  </span></span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">if</span>(!y) <span class="keyword">return</span> x; <span class="comment">//y==0</span></span><br><span class="line">    <span class="keyword">return</span> fun(y,x%y); </span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="built_in">memset</span>(b,<span class="number">1</span>,<span class="keyword">sizeof</span>(b)); <span class="comment">//以便于"b[j]*=a[i];"  </span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);  </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)  </span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);  </span><br><span class="line">    b[<span class="number">1</span>]=a[<span class="number">1</span>];  </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">int</span> j;  </span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=c;j++)  </span><br><span class="line">            <span class="keyword">if</span>(fun(a[i],b[j])==<span class="number">1</span>)  <span class="comment">//也就是说两个整数的最大公约数为1，即两个正整数互质 </span></span><br><span class="line">            &#123;  </span><br><span class="line">                b[j]*=a[i];  </span><br><span class="line">                <span class="keyword">break</span>;  </span><br><span class="line">            &#125;  </span><br><span class="line">        <span class="keyword">if</span>(j<span class="number">-1</span>==c) <span class="comment">//意思就是上面的"break"一次都没有执行  </span></span><br><span class="line">            b[++c]=a[i];  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,c);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">8783:单词接龙</span><br><span class="line">查看 提交 统计 提问</span><br><span class="line">总时间限制: 1000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line">单词接龙是一个与我们经常玩的成语接龙相类似的游戏，现在我们已知一组单词，且给定一个开头的字母，要求出以这个字母开头的最长的“龙”（每个单词都最多在“龙”中出现两次），在两个单词相连时，其重合部分合为一部分，例如beast和astonish，如果接成一条龙则变为beastonish，另外相邻的两部分不能存在包含关系，例如at和atide间不能相连。</span><br><span class="line"></span><br><span class="line">输入</span><br><span class="line">输入的第一行为一个单独的整数n(n&lt;=20)表示单词数，以下n行每行有一个单词（只含有大写或小写字母，长度不超过20），输入的最后一行为一个单个字符，表示“龙”开头的字母。你可以假定以此字母开头的“龙”一定存在。</span><br><span class="line">输出</span><br><span class="line">只需输出以此字母开头的最长的“龙”的长度。</span><br><span class="line">样例输入</span><br><span class="line">5</span><br><span class="line">at</span><br><span class="line">touch</span><br><span class="line">cheat</span><br><span class="line">choose</span><br><span class="line">tact</span><br><span class="line">a</span><br><span class="line">样例输出</span><br><span class="line">23</span><br></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/c20190102/article/details/52311322" target="_blank" rel="noopener">参考</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">此题乍一看，似乎并不是很难，但需要处理以下一些情况：</span><br><span class="line">1.单词不能包含。</span><br><span class="line">2.每个单词可以用2次。</span><br><span class="line">3.重合部分长度需减去。</span><br><span class="line">4.重合长度是不确定的。</span><br><span class="line"></span><br><span class="line">现在谈谈大体思路：</span><br><span class="line"></span><br><span class="line">首先此题一定用深搜。</span><br><span class="line"></span><br><span class="line">其次存单词时，从f[1]开始存，而最后一个表示开头的字母存f[0]。</span><br><span class="line">why?我们接龙时就直接从f[0]开始便不需要处理开头的单词。</span><br><span class="line"></span><br><span class="line">接下来处理问题：</span><br><span class="line">1.关于包含，只需查到长度len-1即可，如果还不符合便不符合。</span><br><span class="line">2.我们可以定义一个v数组，判断单词使用次数，在使用前判断if(v[i]&lt;2)每使用一次变v[i]++，注意递归完后v[i]--。</span><br><span class="line"></span><br><span class="line">然后先看4.在判断单词是否可以连接时，我们从i=0,循环到i=n，即所有单词查完，如果单词可用便接着循环，查待连接单词，如果某一位与可连接单词相同，便再循环，定义一个临时变量t，从后一位开始，查，如果不同，直接t=0,break,出循环后if(t)便代表可连接，开始递归下一个，别忘了v[i]++。（此部分便是核心算法）</span><br><span class="line"></span><br><span class="line">关于3.在判断可连接时，总长度L便加上两个单词长度，然后前面的最后盘点是否完全符合的循环计数变量定义在外面，L直接减去它便是接龙长度了。</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">le</span>//定义结构体可以更方便</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">char</span> s[<span class="number">22</span>];<span class="comment">//单词</span></span><br><span class="line">	<span class="keyword">int</span> len;<span class="comment">//单词长度</span></span><br><span class="line">	<span class="keyword">int</span> v;<span class="comment">//单词访问次数</span></span><br><span class="line">&#125;c[<span class="number">22</span>];<span class="comment">//单词数量不超过20个，所以c[22]即可</span></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> maxn;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">jl</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> len)</span><span class="comment">//两个参数分别代表待连接单词的结构体下标和长度</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">		<span class="keyword">if</span>(c[i].v&lt;<span class="number">2</span>)<span class="comment">//判断访问次数</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;c[x].len;j++)<span class="comment">//查待连接单词的每一个字母</span></span><br><span class="line">				<span class="keyword">if</span>(c[x].s[j]==c[i].s[<span class="number">0</span>])</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">int</span> k=<span class="number">1</span>;<span class="comment">//将循环变量定义在外面，方便以后相减</span></span><br><span class="line">					<span class="keyword">int</span> t=<span class="number">1</span>;<span class="comment">//临时变量（其实bool就行）</span></span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> l=j+<span class="number">1</span>;l&lt;c[x].len&amp;&amp;k&lt;c[i].len;k++,l++)<span class="comment">//l表示待连接单词下标，k是可连接单词下标，所以在循环条件中需满足它们小于（因为不能包含，所以不能等于）单词长度</span></span><br><span class="line">						<span class="keyword">if</span>(c[x].s[l]!=c[i].s[k])</span><br><span class="line">						&#123;</span><br><span class="line">							t=<span class="number">0</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					<span class="keyword">if</span>(t)</span><br><span class="line">					&#123;</span><br><span class="line">						c[i].v++;</span><br><span class="line">						jl(i,len+c[i].len-k);<span class="comment">//更新长度和下标后递归</span></span><br><span class="line">						c[i].v--;<span class="comment">//完成后一定记得--</span></span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">	<span class="keyword">if</span>(len&gt;maxn)</span><br><span class="line">		maxn=len;<span class="comment">//不解释</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>,c[i].s);</span><br><span class="line">		c[i].len=<span class="built_in">strlen</span>(c[i].s);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%s"</span>,c[<span class="number">0</span>].s);</span><br><span class="line">	c[<span class="number">0</span>].len=<span class="built_in">strlen</span>(c[<span class="number">0</span>].s);<span class="comment">//直接将开头字母存在0号结构体</span></span><br><span class="line">	jl(<span class="number">0</span>,c[<span class="number">0</span>].len);<span class="comment">//开头字母当第一个单词处理</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d"</span>,maxn);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">8465:马走日</span><br><span class="line">查看 提交 统计 提问</span><br><span class="line">总时间限制: 1000ms 内存限制: 1024kB</span><br><span class="line">描述</span><br><span class="line">马在中国象棋以日字形规则移动。</span><br><span class="line"></span><br><span class="line">请编写一段程序，给定n*m大小的棋盘，以及马的初始位置(x，y)，要求不能重复经过棋盘上的同一个点，计算马可以有多少途径遍历棋盘上的所有点。</span><br><span class="line"></span><br><span class="line">输入</span><br><span class="line">第一行为整数T(T &lt; 10)，表示测试数据组数。</span><br><span class="line">每一组测试数据包含一行，为四个整数，分别为棋盘的大小以及初始位置坐标n,m,x,y。(0&lt;=x&lt;=n-1,0&lt;=y&lt;=m-1, m &lt; 10, n &lt; 10)</span><br><span class="line">输出</span><br><span class="line">每组测试数据包含一行，为一个整数，表示马能遍历棋盘的途径总数，0为无法遍历一次。</span><br><span class="line">样例输入</span><br><span class="line">1</span><br><span class="line">5 4 0 0</span><br><span class="line">样例输出</span><br><span class="line">32</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, cnt;</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">15</span>][<span class="number">15</span>];</span><br><span class="line"><span class="keyword">int</span> X[<span class="number">10</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">-2</span>,<span class="number">-2</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> Y[<span class="number">10</span>]=&#123;<span class="number">-2</span>,<span class="number">-1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">-2</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> visitNum)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(visitNum==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cnt++;<span class="comment">//深搜成功次数加1</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> newX=x+X[i];</span><br><span class="line">        <span class="keyword">int</span> newY=y+Y[i];</span><br><span class="line">        <span class="keyword">if</span>(newX&gt;=<span class="number">0</span>&amp;&amp;newX&lt;m&amp;&amp;newY&gt;=<span class="number">0</span>&amp;&amp;newY&lt;n&amp;&amp;vis[newX][newY]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            vis[x][y]=<span class="number">1</span>;</span><br><span class="line">            dfs(newX,newY,visitNum<span class="number">-1</span>);<span class="comment">//一次深搜</span></span><br><span class="line">            vis[x][y]=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;<span class="comment">//一定需要，表示无法遍历一次的返回</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;m&gt;&gt;n&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        cnt = <span class="number">0</span>;</span><br><span class="line">        dfs(x, y, n*m<span class="number">-1</span>);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;cnt&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">666:放苹果</span><br><span class="line">查看 提交 统计 提问</span><br><span class="line">总时间限制: 1000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line">把M个同样的苹果放在N个同样的盘子里，允许有的盘子空着不放，问共有多少种不同的分法？（用K表示）5，1，1和1，5，1 是同一种分法。</span><br><span class="line">输入</span><br><span class="line">第一行是测试数据的数目t（0 &lt;= t &lt;= 20）。以下每行均包含二个整数M和N，以空格分开。1&lt;=M，N&lt;=10。</span><br><span class="line">输出</span><br><span class="line">对输入的每组数据M和N，用一行输出相应的K。</span><br><span class="line">样例输入</span><br><span class="line">1</span><br><span class="line">7 3</span><br><span class="line">样例输出</span><br><span class="line">8</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">apple</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>||m==<span class="number">0</span>)<span class="comment">//m必须为0</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(n&gt;m)</span><br><span class="line">        <span class="keyword">return</span> apple(m, m);</span><br><span class="line">    <span class="keyword">return</span> apple(m, n<span class="number">-1</span>)+apple(m-n, n);<span class="comment">//至少有一个为空+全部不空</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> M, N;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;M&gt;&gt;N;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;apple(M, N)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">6264:走出迷宫</span><br><span class="line">查看 提交 统计 提问</span><br><span class="line">总时间限制: 1000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line">当你站在一个迷宫里的时候，往往会被错综复杂的道路弄得失去方向感，如果你能得到迷宫地图，事情就会变得非常简单。 </span><br><span class="line">假设你已经得到了一个n*m的迷宫的图纸，请你找出从起点到出口的最短路。</span><br><span class="line"></span><br><span class="line">输入</span><br><span class="line">第一行是两个整数n和m(1&lt;=n,m&lt;=100)，表示迷宫的行数和列数。</span><br><span class="line">接下来n行，每行一个长为m的字符串，表示整个迷宫的布局。字符&apos;.&apos;表示空地，&apos;#&apos;表示墙，&apos;S&apos;表示起点,&apos;T&apos;表示出口。</span><br><span class="line">输出</span><br><span class="line">输出从起点到出口最少需要走的步数。</span><br><span class="line">样例输入</span><br><span class="line">3 3</span><br><span class="line">S#T</span><br><span class="line">.#.</span><br><span class="line">...</span><br><span class="line">样例输出</span><br><span class="line">6</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> A[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">105</span>][<span class="number">105</span>], n, m;</span><br><span class="line"><span class="keyword">int</span> X[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> Y[<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">    <span class="keyword">int</span> step;</span><br><span class="line">    Node()</span><br><span class="line">    &#123;</span><br><span class="line">        step=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">queue</span> &lt;Node&gt; Q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span> stx, <span class="keyword">int</span> sty, <span class="keyword">int</span> enx, <span class="keyword">int</span> eny)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node stNode;</span><br><span class="line">    stNode.x=stx;</span><br><span class="line">    stNode.y=sty;</span><br><span class="line">    Q.push(stNode);</span><br><span class="line">    <span class="keyword">while</span>(!Q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        Node top, newNode;</span><br><span class="line">        top = Q.front();</span><br><span class="line">        Q.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            newNode.x = top.x + X[i];</span><br><span class="line">            newNode.y = top.y + Y[i];</span><br><span class="line">            newNode.step = top.step+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(newNode.x==enx&amp;&amp;newNode.y==eny)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;newNode.step;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(A[newNode.x][newNode.y]==<span class="string">'.'</span>&amp;&amp;vis[newNode.x][newNode.y]==<span class="number">0</span>&amp;&amp;newNode.x&gt;=<span class="number">1</span>&amp;&amp;newNode.x&lt;=n&amp;&amp;newNode.y&gt;=<span class="number">1</span>&amp;&amp;newNode.y&lt;=m)</span><br><span class="line">            &#123;</span><br><span class="line">                Q.push(newNode);</span><br><span class="line">                vis[newNode.x][newNode.y]=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>  stx,sty,enx,eny;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;A[i][j];</span><br><span class="line">            <span class="keyword">if</span>(A[i][j]==<span class="string">'S'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                stx=i;</span><br><span class="line">                sty=j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(A[i][j]==<span class="string">'T'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                enx=i;</span><br><span class="line">                eny=j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    BFS(stx,sty,enx,eny);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2753:走迷宫</span><br><span class="line">查看 提交 统计 提问</span><br><span class="line">总时间限制: 1000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line">一个迷宫由R行C列格子组成，有的格子里有障碍物，不能走；有的格子是空地，可以走。</span><br><span class="line">给定一个迷宫，求从左上角走到右下角最少需要走多少步(数据保证一定能走到)。只能在水平方向或垂直方向走，不能斜着走。</span><br><span class="line">输入</span><br><span class="line">第一行是两个整数，Ｒ和Ｃ，代表迷宫的长和宽。（ 1&lt;= R，C &lt;= 40)</span><br><span class="line">接下来是Ｒ行，每行Ｃ个字符，代表整个迷宫。</span><br><span class="line">空地格子用&apos;.&apos;表示，有障碍物的格子用&apos;#&apos;表示。</span><br><span class="line">迷宫左上角和右下角都是&apos;.&apos;。</span><br><span class="line">输出</span><br><span class="line">输出从左上角走到右下角至少要经过多少步（即至少要经过多少个空地格子）。计算步数要包括起点和终点。</span><br><span class="line">样例输入</span><br><span class="line">5 5</span><br><span class="line">..###</span><br><span class="line">#....</span><br><span class="line">#.#.#</span><br><span class="line">#.#.#</span><br><span class="line">#.#..</span><br><span class="line">样例输出</span><br><span class="line">9</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> R, C;</span><br><span class="line"><span class="keyword">char</span> A[<span class="number">45</span>][<span class="number">45</span>];</span><br><span class="line"><span class="keyword">int</span> X[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> Y[<span class="number">4</span>]=&#123;<span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">    <span class="keyword">int</span> step;</span><br><span class="line">    Node()</span><br><span class="line">    &#123;</span><br><span class="line">        step=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">45</span>][<span class="number">45</span>]=&#123;<span class="literal">false</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">queue</span> &lt;Node&gt; Q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node st;</span><br><span class="line">    st.x=<span class="number">1</span>;</span><br><span class="line">    st.y=<span class="number">1</span>;</span><br><span class="line">    Q.push(st);</span><br><span class="line">    <span class="keyword">while</span>(!Q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        Node top;</span><br><span class="line">        top = Q.front();</span><br><span class="line">        Q.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Node tmp;</span><br><span class="line">            tmp.x=top.x+X[i];</span><br><span class="line">            tmp.y=top.y+Y[i];</span><br><span class="line">            tmp.step=top.step+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(tmp.x==R&amp;&amp;tmp.y==C)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;tmp.step+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(A[tmp.x][tmp.y]==<span class="string">'.'</span>&amp;&amp;!vis[tmp.x][tmp.y]&amp;&amp;tmp.x&gt;=<span class="number">1</span>&amp;&amp;tmp.x&lt;=R&amp;&amp;tmp.y&gt;=<span class="number">1</span>&amp;&amp;tmp.y&lt;=C)</span><br><span class="line">            &#123;</span><br><span class="line">                Q.push(tmp);</span><br><span class="line">                vis[tmp.x][tmp.y]=<span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;R&gt;&gt;C;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=R;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=C;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;A[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    BFS();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1818:红与黑</span><br><span class="line">查看 提交 统计 提问</span><br><span class="line">总时间限制: 1000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line">有一间长方形的房子，地上铺了红色、黑色两种颜色的正方形瓷砖。你站在其中一块黑色的瓷砖上，只能向相邻的黑色瓷砖移动。请写一个程序，计算你总共能够到达多少块黑色的瓷砖。</span><br><span class="line">输入</span><br><span class="line">包括多个数据集合。每个数据集合的第一行是两个整数W和H，分别表示x方向和y方向瓷砖的数量。W和H都不超过20。在接下来的H行中，每行包括W个字符。每个字符表示一块瓷砖的颜色，规则如下</span><br><span class="line">1）‘.’：黑色的瓷砖；</span><br><span class="line">2）‘#’：白色的瓷砖；</span><br><span class="line">3）‘@’：黑色的瓷砖，并且你站在这块瓷砖上。该字符在每个数据集合中唯一出现一次。</span><br><span class="line">当在一行中读入的是两个零时，表示输入结束。</span><br><span class="line">输出</span><br><span class="line">对每个数据集合，分别输出一行，显示你从初始位置出发能到达的瓷砖数(记数时包括初始位置的瓷砖)。</span><br><span class="line">样例输入</span><br><span class="line">6 9 </span><br><span class="line">....#. </span><br><span class="line">.....# </span><br><span class="line">...... </span><br><span class="line">...... </span><br><span class="line">...... </span><br><span class="line">...... </span><br><span class="line">...... </span><br><span class="line">#@...# </span><br><span class="line">.#..#. </span><br><span class="line">0 0</span><br><span class="line">样例输出</span><br><span class="line">45</span><br></pre></td></tr></table></figure>
<p>BFS:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> A[<span class="number">25</span>][<span class="number">25</span>];</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">25</span>][<span class="number">25</span>];</span><br><span class="line"><span class="keyword">int</span> W, H;</span><br><span class="line"><span class="keyword">int</span> X[<span class="number">4</span>]=&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> Y[<span class="number">4</span>]=&#123;<span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">queue</span> &lt;Node&gt; Q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span> stx, <span class="keyword">int</span> sty)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node st;</span><br><span class="line">    st.x=stx;</span><br><span class="line">    st.y=sty;</span><br><span class="line">    Q.push(st);</span><br><span class="line">    <span class="keyword">while</span>(!Q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        Node top;</span><br><span class="line">        top=Q.front();</span><br><span class="line">        Q.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Node tmp;</span><br><span class="line">            tmp.x=top.x+X[i];</span><br><span class="line">            tmp.y=top.y+Y[i];</span><br><span class="line">            <span class="keyword">if</span>(vis[tmp.x][tmp.y]==<span class="number">0</span>&amp;&amp;A[tmp.x][tmp.y]==<span class="string">'.'</span>&amp;&amp;tmp.x&gt;=<span class="number">1</span>&amp;&amp;tmp.x&lt;=H&amp;&amp;tmp.y&gt;=<span class="number">1</span>&amp;&amp;tmp.y&lt;=W)</span><br><span class="line">            &#123;</span><br><span class="line">                vis[tmp.x][tmp.y]=<span class="literal">true</span>;</span><br><span class="line">                Q.push(tmp);</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> stx,sty;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;W&gt;&gt;H)</span><br><span class="line">    &#123;</span><br><span class="line">        fill(vis[<span class="number">0</span>], vis[<span class="number">0</span>]+<span class="number">25</span>*<span class="number">25</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(W==<span class="number">0</span>&amp;&amp;H==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=H;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            getchar();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=W;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;A[i][j];</span><br><span class="line">                <span class="keyword">if</span>(A[i][j]==<span class="string">'@'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    stx = i;</span><br><span class="line">                    sty = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt=<span class="number">0</span>;</span><br><span class="line">        BFS(stx, sty);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;cnt+<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>递归：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> A[<span class="number">25</span>][<span class="number">25</span>];</span><br><span class="line"><span class="keyword">int</span> W, H;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span>||x&gt;=H||y&lt;<span class="number">0</span>||y&gt;=W)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(A[x][y]==<span class="string">'#'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        A[x][y]=<span class="string">'#'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>+f(x<span class="number">-1</span>,y)+f(x+<span class="number">1</span>,y)+f(x,y+<span class="number">1</span>)+f(x,y<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;W&gt;&gt;H;</span><br><span class="line">        <span class="keyword">if</span>(W==<span class="number">0</span>&amp;&amp;H==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;H;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;A[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;H;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;W;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(A[i][j]==<span class="string">'@'</span>)</span><br><span class="line">                    <span class="built_in">cout</span>&lt;&lt;f(i,j)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2698:八皇后问题</span><br><span class="line">查看 提交 统计 提示 提问</span><br><span class="line">总时间限制: 10000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line">在国际象棋棋盘上放置八个皇后，要求每两个皇后之间不能直接吃掉对方。</span><br><span class="line">输入</span><br><span class="line">无输入。</span><br><span class="line">输出</span><br><span class="line">按给定顺序和格式输出所有八皇后问题的解（见Sample Output）。</span><br><span class="line">样例输入</span><br><span class="line">样例输出</span><br><span class="line">No. 1</span><br><span class="line">1 0 0 0 0 0 0 0 </span><br><span class="line">0 0 0 0 0 0 1 0 </span><br><span class="line">0 0 0 0 1 0 0 0 </span><br><span class="line">0 0 0 0 0 0 0 1 </span><br><span class="line">0 1 0 0 0 0 0 0 </span><br><span class="line">0 0 0 1 0 0 0 0 </span><br><span class="line">0 0 0 0 0 1 0 0 </span><br><span class="line">0 0 1 0 0 0 0 0 </span><br><span class="line">No. 2</span><br><span class="line">1 0 0 0 0 0 0 0 </span><br><span class="line">0 0 0 0 0 0 1 0 </span><br><span class="line">0 0 0 1 0 0 0 0 </span><br><span class="line">0 0 0 0 0 1 0 0 </span><br><span class="line">0 0 0 0 0 0 0 1 </span><br><span class="line">0 1 0 0 0 0 0 0 </span><br><span class="line">0 0 0 0 1 0 0 0 </span><br><span class="line">0 0 1 0 0 0 0 0</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n = <span class="number">8</span>, cnt=<span class="number">0</span>, temp;</span><br><span class="line"><span class="keyword">int</span> P[<span class="number">15</span>];</span><br><span class="line"><span class="keyword">int</span> ht[<span class="number">15</span>]=&#123;<span class="literal">false</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GP</span><span class="params">(<span class="keyword">int</span> index)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index == n+<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">abs</span>(i-j)==<span class="built_in">abs</span>(P[i]-P[j]))</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        cnt++;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"No. "</span>&lt;&lt;cnt&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(P[j]==i)</span><br><span class="line">                    <span class="built_in">cout</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">cout</span>&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">1</span>;x&lt;=n;x++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(ht[x]==<span class="literal">false</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ht[x]=<span class="literal">true</span>;</span><br><span class="line">            P[index]=x;</span><br><span class="line">            GP(index+<span class="number">1</span>);</span><br><span class="line">            ht[x]=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    GP(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2754:八皇后</span><br><span class="line">查看 提交 统计 提示 提问</span><br><span class="line">总时间限制: 1000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line">会下国际象棋的人都很清楚：皇后可以在横、竖、斜线上不限步数地吃掉其他棋子。如何将8个皇后放在棋盘上（有8 * 8个方格），使它们谁也不能被吃掉！这就是著名的八皇后问题。 </span><br><span class="line">对于某个满足要求的8皇后的摆放方法，定义一个皇后串a与之对应，即a=b1b2...b8，其中bi为相应摆法中第i行皇后所处的列数。已经知道8皇后问题一共有92组解（即92个不同的皇后串）。</span><br><span class="line">给出一个数b，要求输出第b个串。串的比较是这样的：皇后串x置于皇后串y之前，当且仅当将x视为整数时比y小。</span><br><span class="line">输入</span><br><span class="line">第1行是测试数据的组数n，后面跟着n行输入。每组测试数据占1行，包括一个正整数b(1 &lt;= b &lt;= 92)</span><br><span class="line">输出</span><br><span class="line">输出有n行，每行输出对应一个输入。输出应是一个正整数，是对应于b的皇后串。</span><br><span class="line">样例输入</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">92</span><br><span class="line">样例输出</span><br><span class="line">15863724</span><br><span class="line">84136275</span><br></pre></td></tr></table></figure>
<p>使用next_permutation</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> src[<span class="number">8</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> tmp[<span class="number">8</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;<span class="number">8</span>;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">abs</span>(j-i)==<span class="built_in">abs</span>(tmp[j]-tmp[i]))</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, b;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">while</span>(n--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;b;</span><br><span class="line">        <span class="built_in">memcpy</span>(tmp, src, <span class="keyword">sizeof</span>(src));</span><br><span class="line">        <span class="keyword">while</span>(next_permutation(tmp, tmp+<span class="number">8</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(check())</span><br><span class="line">                b--;</span><br><span class="line">            <span class="keyword">if</span>(b==<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;tmp[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用递归全排列：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">9</span>], P[<span class="number">9</span>], cnt=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> sum[<span class="number">95</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GP</span><span class="params">(<span class="keyword">int</span> index)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index==<span class="number">8</span>+<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">8</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;=<span class="number">8</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">abs</span>(j-i)==<span class="built_in">abs</span>(P[j]-P[i]))</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> tmp=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">8</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp = tmp*<span class="number">10</span> + P[i];</span><br><span class="line">        &#125;</span><br><span class="line">        sum[cnt++]=tmp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">1</span>;x&lt;=<span class="number">8</span>;x++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(vis[x]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            vis[x]=<span class="number">1</span>;</span><br><span class="line">            P[index]=x;</span><br><span class="line">            GP(index+<span class="number">1</span>);</span><br><span class="line">            vis[x]=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,b;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    GP(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">while</span>(n--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;b;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;sum[b]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1792:迷宫</span><br><span class="line">查看 提交 统计 提问</span><br><span class="line">总时间限制: 3000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line">一天Extense在森林里探险的时候不小心走入了一个迷宫，迷宫可以看成是由n * n的格点组成，每个格点只有2种状态，.和#，前者表示可以通行后者表示不能通行。同时当Extense处在某个格点时，他只能移动到东南西北(或者说上下左右)四个方向之一的相邻格点上，Extense想要从点A走到点B，问在不走出迷宫的情况下能不能办到。如果起点或者终点有一个不能通行(为#)，则看成无法办到。</span><br><span class="line">输入</span><br><span class="line">第1行是测试数据的组数k，后面跟着k组输入。每组测试数据的第1行是一个正整数n (1 &lt;= n &lt;= 100)，表示迷宫的规模是n * n的。接下来是一个n * n的矩阵，矩阵中的元素为.或者#。再接下来一行是4个整数ha, la, hb, lb，描述A处在第ha行, 第la列，B处在第hb行, 第lb列。注意到ha, la, hb, lb全部是从0开始计数的。</span><br><span class="line">输出</span><br><span class="line">k行，每行输出对应一个输入。能办到则输出“YES”，否则输出“NO”。</span><br><span class="line">样例输入</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">.##</span><br><span class="line">..#</span><br><span class="line">#..</span><br><span class="line">0 0 2 2</span><br><span class="line">5</span><br><span class="line">.....</span><br><span class="line">###.#</span><br><span class="line">..#..</span><br><span class="line">###..</span><br><span class="line">...#.</span><br><span class="line">0 0 4 0</span><br><span class="line">样例输出</span><br><span class="line">YES</span><br><span class="line">NO</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> A[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> X[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> Y[<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">queue</span> &lt;Node&gt; Q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span> stx, <span class="keyword">int</span> sty, <span class="keyword">int</span> enx, <span class="keyword">int</span> eny)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(!Q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        Q.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    Node st;</span><br><span class="line">    st.x=stx;</span><br><span class="line">    st.y=sty;</span><br><span class="line">    vis[stx][sty]=<span class="number">1</span>;</span><br><span class="line">    Q.push(st);</span><br><span class="line">    <span class="keyword">while</span>(!Q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        Node top;</span><br><span class="line">        top=Q.front();</span><br><span class="line">        Q.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Node tmp;</span><br><span class="line">            tmp.x=top.x+X[i];</span><br><span class="line">            tmp.y=top.y+Y[i];</span><br><span class="line">            <span class="keyword">if</span>(tmp.x==enx&amp;&amp;tmp.y==eny)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(vis[tmp.x][tmp.y]==<span class="number">0</span>&amp;&amp;A[tmp.x][tmp.y]==<span class="string">'.'</span>&amp;&amp;tmp.x&gt;=<span class="number">1</span>&amp;&amp;tmp.x&lt;=n&amp;&amp;tmp.y&gt;=<span class="number">1</span>&amp;&amp;tmp.y&lt;=n)</span><br><span class="line">            &#123;</span><br><span class="line">                vis[tmp.x][tmp.y]=<span class="number">1</span>;</span><br><span class="line">                Q.push(tmp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;k;</span><br><span class="line">    <span class="keyword">while</span>(k--)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        fill(vis[<span class="number">0</span>], vis[<span class="number">0</span>]+<span class="number">105</span>*<span class="number">105</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            getchar();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;A[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ha, la, hb, lb;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;ha&gt;&gt;la&gt;&gt;hb&gt;&gt;lb;</span><br><span class="line">        <span class="keyword">if</span>(A[ha+<span class="number">1</span>][la+<span class="number">1</span>]==<span class="string">'#'</span>||A[hb+<span class="number">1</span>][lb+<span class="number">1</span>]==<span class="string">'#'</span>)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            BFS(ha+<span class="number">1</span>, la+<span class="number">1</span>, hb+<span class="number">1</span>, lb+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2971:抓住那头牛</span><br><span class="line">查看 提交 统计 提问</span><br><span class="line">总时间限制: 2000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line">农夫知道一头牛的位置，想要抓住它。农夫和牛都位于数轴上，农夫起始位于点N(0&lt;=N&lt;=100000)，牛位于点K(0&lt;=K&lt;=100000)。农夫有两种移动方式：</span><br><span class="line"></span><br><span class="line">1、从X移动到X-1或X+1，每次移动花费一分钟</span><br><span class="line">2、从X移动到2*X，每次移动花费一分钟</span><br><span class="line"></span><br><span class="line">假设牛没有意识到农夫的行动，站在原地不动。农夫最少要花多少时间才能抓住牛？</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输入</span><br><span class="line">两个整数，N和K</span><br><span class="line">输出</span><br><span class="line">一个整数，农夫抓到牛所要花费的最小分钟数</span><br><span class="line">样例输入</span><br><span class="line">5 17</span><br><span class="line">样例输出</span><br><span class="line">4</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">bool</span> f[<span class="number">100001</span>]; <span class="keyword">int</span> ans[<span class="number">100001</span>],father[<span class="number">100001</span>],stat[<span class="number">100001</span>],an;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">make</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i==<span class="number">0</span>) <span class="keyword">return</span> x*<span class="number">2</span>; <span class="comment">//第一种情况变为2x</span></span><br><span class="line">    <span class="keyword">if</span> (i==<span class="number">1</span>) <span class="keyword">return</span> x<span class="number">-1</span>; <span class="comment">//第二种情况变为x-1</span></span><br><span class="line">    <span class="keyword">if</span> (i==<span class="number">2</span>) <span class="keyword">return</span> x+<span class="number">1</span>; <span class="comment">//第三种情况变为x+1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> head=<span class="number">0</span>,tail=<span class="number">1</span>,x; f[stat[<span class="number">1</span>]]=<span class="number">1</span>; <span class="comment">//初始化</span></span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        head++;  <span class="comment">//队首加一（出队）</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)&#123;</span><br><span class="line">            x=make(i,stat[head]);<span class="comment">//下一个点可以到哪里</span></span><br><span class="line">            <span class="keyword">if</span> (x&gt;=<span class="number">0</span>&amp;&amp;x&lt;=<span class="number">100000</span>&amp;&amp;!f[x])&#123; <span class="comment">//判断</span></span><br><span class="line">                tail++; <span class="comment">//队尾+1（入队）</span></span><br><span class="line">                father[tail]=head; <span class="comment">//指向父节点（可以不需要）</span></span><br><span class="line">                stat[tail]=x;  <span class="comment">//加入队尾（入队）</span></span><br><span class="line">                ans[tail]=ans[head]+<span class="number">1</span>; <span class="comment">//步数增加</span></span><br><span class="line">                f[x]=<span class="number">1</span>; <span class="comment">//该点已经走过了</span></span><br><span class="line">                <span class="keyword">if</span> (x==an)&#123; <span class="comment">//走到了终点</span></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"%d"</span>,ans[tail]); <span class="comment">//输出最小步数</span></span><br><span class="line">                    <span class="keyword">return</span>; <span class="comment">//退出</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">while</span> (head&lt;tail);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;stat[<span class="number">1</span>],&amp;an); <span class="comment">//终点</span></span><br><span class="line">    <span class="keyword">if</span> (stat[<span class="number">1</span>]==an)&#123;<span class="built_in">printf</span>(<span class="string">"0"</span>); <span class="keyword">return</span> <span class="number">0</span>;&#125; <span class="comment">//特殊情况</span></span><br><span class="line">    bfs(); <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>BFS</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100005</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> vis[maxn], p[<span class="number">3</span>]; <span class="comment">//vis数组储存最小分钟数，且标记已经访问 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">queue</span> &lt;<span class="keyword">int</span>&gt; Q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Q.push(n);</span><br><span class="line">    vis[n] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!Q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> top = Q.front();</span><br><span class="line">        Q.pop();</span><br><span class="line">        <span class="keyword">if</span> (top == k)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; vis[top];</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        p[<span class="number">0</span>] = top - <span class="number">1</span>;</span><br><span class="line">        p[<span class="number">1</span>] = top + <span class="number">1</span>;</span><br><span class="line">        p[<span class="number">2</span>] = top * <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (p[i] &gt;= <span class="number">0</span> &amp;&amp; p[i] &lt;= maxn &amp;&amp; vis[p[i]] == <span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Q.push(p[i]);</span><br><span class="line">                vis[p[i]] = vis[top] + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N, K;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; K;</span><br><span class="line">    <span class="built_in">memset</span>(vis, <span class="number">-1</span>, <span class="keyword">sizeof</span>(vis));<span class="comment">//初始化vis数组 -1</span></span><br><span class="line">    BFS(N, K);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1789:算24</span><br><span class="line">查看 提交 统计 提问</span><br><span class="line">总时间限制: 3000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line">给出4个小于10个正整数，你可以使用加减乘除4种运算以及括号把这4个数连接起来得到一个表达式。现在的问题是，是否存在一种方式使得得到的表达式的结果等于24。</span><br><span class="line"></span><br><span class="line">这里加减乘除以及括号的运算结果和运算的优先级跟我们平常的定义一致（这里的除法定义是实数除法）。</span><br><span class="line"></span><br><span class="line">比如，对于5，5，5，1，我们知道5 * (5 – 1 / 5) = 24，因此可以得到24。又比如，对于1，1，4，2，我们怎么都不能得到24。</span><br><span class="line">输入</span><br><span class="line">输入数据包括多行，每行给出一组测试数据，包括4个小于10个正整数。最后一组测试数据中包括4个0，表示输入的结束，这组数据不用处理。</span><br><span class="line">输出</span><br><span class="line">对于每一组测试数据，输出一行，如果可以得到24，输出“YES”；否则，输出“NO”。</span><br><span class="line">样例输入</span><br><span class="line">5 5 5 1</span><br><span class="line">1 1 4 2</span><br><span class="line">0 0 0 0</span><br><span class="line">样例输出</span><br><span class="line">YES</span><br><span class="line">NO</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> A[<span class="number">4</span>];</span><br><span class="line"><span class="keyword">double</span> EPS=<span class="number">1e-6</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isEqu</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">fabs</span>(a-b)&lt;EPS)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//用n个数算24，先取两个数进行某种运算，然后再用算得的结果，和剩下的n-2个数，凑成n-1个数去算24</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cal24</span><span class="params">(<span class="keyword">double</span> a[], <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>)<span class="comment">//边界条件，如果只剩一个数，那他必须为24</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(isEqu(a[<span class="number">0</span>],<span class="number">24</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span> b[<span class="number">5</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)<span class="comment">//先对a中的两个数进行运算，枚举这两个数</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;n;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> m=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;n;k++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(k!=i&amp;&amp;k!=j)</span><br><span class="line">                    b[m++]=a[k];<span class="comment">//将选出的两个数以外的数存入b数组</span></span><br><span class="line">            &#125;</span><br><span class="line">            b[m]=a[i]+a[j];</span><br><span class="line">            <span class="keyword">if</span>(cal24(b, m+<span class="number">1</span>))</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            b[m]=a[i]-a[j];</span><br><span class="line">            <span class="keyword">if</span>(cal24(b, m+<span class="number">1</span>))</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            b[m]=a[j]-a[i];</span><br><span class="line">            <span class="keyword">if</span>(cal24(b, m+<span class="number">1</span>))</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            b[m]=a[i]*a[j];</span><br><span class="line">            <span class="keyword">if</span>(cal24(b, m+<span class="number">1</span>))</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(a[i]!=<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                b[m]=a[j]/a[i];</span><br><span class="line">                <span class="keyword">if</span>(cal24(b, m+<span class="number">1</span>))</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(a[j]!=<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                b[m]=a[i]/a[j];</span><br><span class="line">                <span class="keyword">if</span>(cal24(b, m+<span class="number">1</span>))</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;A[i];</span><br><span class="line">        <span class="keyword">if</span>(A[<span class="number">0</span>]==<span class="number">0</span>&amp;&amp;A[<span class="number">1</span>]==<span class="number">0</span>&amp;&amp;A[<span class="number">3</span>]==<span class="number">0</span>&amp;&amp;A[<span class="number">2</span>]==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(cal24(A, <span class="number">4</span>))</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2815:城堡问题</span><br><span class="line">查看 提交 统计 提示 提问</span><br><span class="line">总时间限制: 1000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line"></span><br><span class="line">     1   2   3   4   5   6   7  </span><br><span class="line">   #############################</span><br><span class="line"> 1 #   |   #   |   #   |   |   #</span><br><span class="line">   #####---#####---#---#####---#</span><br><span class="line"> 2 #   #   |   #   #   #   #   #</span><br><span class="line">   #---#####---#####---#####---#</span><br><span class="line"> 3 #   |   |   #   #   #   #   #</span><br><span class="line">   #---#########---#####---#---#</span><br><span class="line"> 4 #   #   |   |   |   |   #   #</span><br><span class="line">   #############################</span><br><span class="line">           (图 1)</span><br><span class="line"></span><br><span class="line">   #  = Wall   </span><br><span class="line">   |  = No wall</span><br><span class="line">   -  = No wall</span><br><span class="line"></span><br><span class="line">图1是一个城堡的地形图。请你编写一个程序，计算城堡一共有多少房间，最大的房间有多大。城堡被分割成mn(m≤50，n≤50)个方块，每个方块可以有0~4面墙。</span><br><span class="line">输入</span><br><span class="line">程序从标准输入设备读入数据。第一行是两个整数，分别是南北向、东西向的方块数。在接下来的输入行里，每个方块用一个数字(0≤p≤50)描述。用一个数字表示方块周围的墙，1表示西墙，2表示北墙，4表示东墙，8表示南墙。每个方块用代表其周围墙的数字之和表示。城堡的内墙被计算两次，方块(1,1)的南墙同时也是方块(2,1)的北墙。输入的数据保证城堡至少有两个房间。</span><br><span class="line">输出</span><br><span class="line">城堡的房间数、城堡中最大房间所包括的方块数。结果显示在标准输出设备上。</span><br><span class="line">样例输入</span><br><span class="line">4 </span><br><span class="line">7 </span><br><span class="line">11 6 11 6 3 10 6 </span><br><span class="line">7 9 6 13 5 15 5 </span><br><span class="line">1 10 12 7 13 7 5 </span><br><span class="line">13 11 10 8 10 12 13 </span><br><span class="line">样例输出</span><br><span class="line">5</span><br><span class="line">9</span><br></pre></td></tr></table></figure>
<p>BFS:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">55</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> A[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> vis[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> R, C;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">queue</span> &lt;Node&gt; Q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmpSize=<span class="number">1</span>;</span><br><span class="line">    Node st;</span><br><span class="line">    st.x=x;</span><br><span class="line">    st.y=y;</span><br><span class="line">    Q.push(st);</span><br><span class="line">    vis[st.x][st.y]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(!Q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        Node top;</span><br><span class="line">        top = Q.front();</span><br><span class="line">        Q.pop();</span><br><span class="line">        Node tmp;</span><br><span class="line">        <span class="keyword">if</span>((A[top.x][top.y]&amp;<span class="number">1</span>)==<span class="number">0</span>&amp;&amp;vis[top.x][top.y<span class="number">-1</span>]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp.x=top.x;</span><br><span class="line">            tmp.y=top.y<span class="number">-1</span>;</span><br><span class="line">            Q.push(tmp);</span><br><span class="line">            tmpSize++;</span><br><span class="line">            vis[top.x][top.y<span class="number">-1</span>]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>((A[top.x][top.y]&amp;<span class="number">2</span>)==<span class="number">0</span>&amp;&amp;vis[top.x<span class="number">-1</span>][top.y]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp.x=top.x<span class="number">-1</span>;</span><br><span class="line">            tmp.y=top.y;</span><br><span class="line">            Q.push(tmp);</span><br><span class="line">            tmpSize++;</span><br><span class="line">            vis[top.x<span class="number">-1</span>][top.y]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>((A[top.x][top.y]&amp;<span class="number">4</span>)==<span class="number">0</span> &amp;&amp;vis[top.x][top.y+<span class="number">1</span>]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp.x=top.x;</span><br><span class="line">            tmp.y=top.y+<span class="number">1</span>;</span><br><span class="line">            Q.push(tmp);</span><br><span class="line">            tmpSize++;</span><br><span class="line">            vis[top.x][top.y+<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>((A[top.x][top.y]&amp;<span class="number">8</span>)==<span class="number">0</span>&amp;&amp;vis[top.x+<span class="number">1</span>][top.y]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp.x=top.x+<span class="number">1</span>;</span><br><span class="line">            tmp.y=top.y;</span><br><span class="line">            Q.push(tmp);</span><br><span class="line">            tmpSize++;</span><br><span class="line">            vis[top.x+<span class="number">1</span>][top.y]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tmpSize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;R&gt;&gt;C;</span><br><span class="line">    <span class="keyword">int</span> cntHome=<span class="number">0</span>, sizeHome, maxSize=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=R;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=C;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;A[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=R;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=C;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(vis[i][j]==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                sizeHome = BFS(i,j);</span><br><span class="line">                cntHome++;</span><br><span class="line">                <span class="keyword">if</span>(sizeHome&gt;maxSize)</span><br><span class="line">                    maxSize = sizeHome;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;cntHome&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;maxSize&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>DFS:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">55</span>;</span><br><span class="line"><span class="keyword">int</span> sizeHome;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> A[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> vis[maxn][maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(vis[x][y]==<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    vis[x][y]=<span class="number">1</span>;</span><br><span class="line">    sizeHome++;</span><br><span class="line">    <span class="keyword">if</span>((A[x][y]&amp;<span class="number">1</span>)==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DFS(x, y<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>((A[x][y]&amp;<span class="number">2</span>)==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DFS(x<span class="number">-1</span>, y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>((A[x][y]&amp;<span class="number">4</span>)==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DFS(x, y+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>((A[x][y]&amp;<span class="number">8</span>)==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DFS(x+<span class="number">1</span>, y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> R, C;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;R&gt;&gt;C;</span><br><span class="line">    <span class="keyword">int</span> cntHome=<span class="number">0</span>, maxSize=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=R;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=C;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;A[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=R;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=C;j++)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(vis[i][j]==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                sizeHome=<span class="number">0</span>;</span><br><span class="line">                DFS(i, j);</span><br><span class="line">                cntHome++;</span><br><span class="line">                maxSize=max(maxSize, sizeHome);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;cntHome&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;maxSize&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">323:棋盘问题</span><br><span class="line">查看 提交 统计 提问</span><br><span class="line">总时间限制: 1000ms 内存限制: 65536kB</span><br><span class="line">描述</span><br><span class="line">在一个给定形状的棋盘（形状可能是不规则的）上面摆放棋子，棋子没有区别。要求摆放时任意的两个棋子不能放在棋盘中的同一行或者同一列，请编程求解对于给定形状和大小的棋盘，摆放k个棋子的所有可行的摆放方案C。</span><br><span class="line">输入</span><br><span class="line">输入含有多组测试数据。</span><br><span class="line">每组数据的第一行是两个正整数，n k，用一个空格隔开，表示了将在一个n*n的矩阵内描述棋盘，以及摆放棋子的数目。 n &lt;= 8 , k &lt;= n</span><br><span class="line">当为-1 -1时表示输入结束。</span><br><span class="line">随后的n行描述了棋盘的形状：每行有n个字符，其中 # 表示棋盘区域， . 表示空白区域（数据保证不出现多余的空白行或者空白列）。</span><br><span class="line">输出</span><br><span class="line">对于每一组数据，给出一行输出，输出摆放的方案数目C （数据保证C&lt;2^31）。</span><br><span class="line">样例输入</span><br><span class="line">2 1</span><br><span class="line">#.</span><br><span class="line">.#</span><br><span class="line">4 4</span><br><span class="line">...#</span><br><span class="line">..#.</span><br><span class="line">.#..</span><br><span class="line">#...</span><br><span class="line">-1 -1</span><br><span class="line">样例输出</span><br><span class="line">2</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>DSF</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">20</span>;</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> n, k;</span><br><span class="line"><span class="keyword">char</span> A[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> vis[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> step)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(step==k)</span><br><span class="line">    &#123;</span><br><span class="line">        cnt++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=row;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(A[i][j]==<span class="string">'#'</span>&amp;&amp;!vis[j])</span><br><span class="line">            &#123;</span><br><span class="line">                vis[j]=<span class="number">1</span>;</span><br><span class="line">                DFS(i+<span class="number">1</span>, step+<span class="number">1</span>);</span><br><span class="line">                vis[j]=<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">-1</span>&amp;&amp;k==<span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;A[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">        DFS(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;cnt&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/C/">C</a>
  </div>

</div>


	<div class="article-share" id="share">
	
	  <div data-url="http://flamepeak.com/2019/03/10/poj-search/" data-title="poj search | FlamePeak" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2019/03/11/read-20190311/" title="read 20190311">
  <strong>上一篇：</strong><br/>
  <span>
  read 20190311</span>
</a>
</div>


<div class="next">
<a href="/2019/03/08/poj-dp-problem/"  title="poj dp 问题">
 <strong>下一篇：</strong><br/> 
 <span>poj dp 问题
</span>
</a>
</div>

</nav>

	

</div>  

      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
 
 
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
		  
			<li><a href="/categories/Android/" title="Android">Android<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Cryptography/" title="Cryptography">Cryptography<sup>15</sup></a></li>
		  
		
		  
			<li><a href="/categories/Hardware/" title="Hardware">Hardware<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Life/" title="Life">Life<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>43</sup></a></li>
		  
		
		  
			<li><a href="/categories/Network-Security/" title="Network Security">Network Security<sup>19</sup></a></li>
		  
		
		  
			<li><a href="/categories/Python/" title="Python">Python<sup>39</sup></a></li>
		  
		
		  
			<li><a href="/categories/Tools/" title="Tools">Tools<sup>18</sup></a></li>
		  
		
		  
			<li><a href="/categories/Web前端/" title="Web前端">Web前端<sup>20</sup></a></li>
		  
		
		  
			<li><a href="/categories/Web后端/" title="Web后端">Web后端<sup>13</sup></a></li>
		  
		
		  
			<li><a href="/categories/人工智能/" title="人工智能">人工智能<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/百家杂谈/" title="百家杂谈">百家杂谈<sup>21</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Python/" title="Python">Python<sup>42</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>33</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C">C<sup>21</sup></a></li>
			
		
			
				<li><a href="/tags/笔记/" title="笔记">笔记<sup>18</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/cryptography/" title="cryptography">cryptography<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/Life/" title="Life">Life<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/JavaScript/" title="JavaScript">JavaScript<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/MongoDB/" title="MongoDB">MongoDB<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/Network-Security/" title="Network Security">Network Security<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Mysql/" title="Mysql">Mysql<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Kali/" title="Kali">Kali<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Scrapy/" title="Scrapy">Scrapy<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/VPN/" title="VPN">VPN<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Tools/" title="Tools">Tools<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Docker/" title="Docker">Docker<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/读书/" title="读书">读书<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/EFI/" title="EFI">EFI<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/人生/" title="人生">人生<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/WikiLeaks/" title="WikiLeaks">WikiLeaks<sup>3</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://laod.cn/hosts/2017-google-hosts.html" target="_blank" title="Google Hosts">Google Hosts</a>
            
          </li>
        
          <li>
            
            	<a href="http://overapi.com" target="_blank" title="OverAPI">OverAPI</a>
            
          </li>
        
          <li>
            
            	<a href="https://devdocs.io" target="_blank" title="DevDocs">DevDocs</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>

    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 善良   善学   勇敢   坚毅 <br/>
			努力   克制   谦虚   执着</p>
	</section>
	 
	<div id="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">Hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2020 
		
		<a href="/about" target="_blank" title="FlamePeak">FlamePeak</a>
		
		





		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
        getSize();
        if (myWidth >= 1024) {
          $('#toc.toc-aside').css('display', 'block');
          c.click();
        }
  
  $(window).resize(function(){
    getSize();
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
      
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});
</script>











<!-- Analytics Begin -->
<!--%- partial('analytics') %-->
<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>

